<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>settings</title><meta property="og:title" content="settings" /><meta property="og:type" content="website" /><meta name="description" content="Read and write configuration options for CraftOS and your programs." /><meta property="og:description" content="Read and write configuration options for CraftOS and your programs." /><meta property="og:image" content="https://devvie.cc/docs/cc/pack.png" /><meta property="og:site_name" content="CC: Tweaked" /><meta name="illuaminate:index" content="../index.json" /><link rel="stylesheet" href="../main.css?v=5ab962eb" type="text/css" /><!--
SPDX-FileCopyrightText: 2020 The CC: Tweaked Developers

SPDX-License-Identifier: MPL-2.0
-->

<meta name="theme-color" content="#c8d87c"></head><body><nav id="nav"><button id="nav-reveal" type="button">&#9776;</button><h1><a href=".././"><img src="../pack.png" alt="CC: Tweaked" /></a></h1><div class="nav-links"><h2 tabindex="0">Contents</h2><ul><li><a href="#v:define" class="sidebar-link">define</a></li><li><a href="#v:undefine" class="sidebar-link">undefine</a></li><li><a href="#v:set" class="sidebar-link">set</a></li><li><a href="#v:get" class="sidebar-link">get</a></li><li><a href="#v:getDetails" class="sidebar-link">getDetails</a></li><li><a href="#v:unset" class="sidebar-link">unset</a></li><li><a href="#v:clear" class="sidebar-link">clear</a></li><li><a href="#v:getNames" class="sidebar-link">getNames</a></li><li><a href="#v:load" class="sidebar-link">load</a></li><li><a href="#v:save" class="sidebar-link">save</a></li></ul><h2 tabindex="0">Globals</h2><ul><li><a href="_G.html" class="sidebar-link">_G</a></li><li><a href="colors.html" class="sidebar-link">colors</a></li><li><a href="colours.html" class="sidebar-link">colours</a></li><li><a href="commands.html" class="sidebar-link">commands</a></li><li><a href="disk.html" class="sidebar-link">disk</a></li><li><a href="fs.html" class="sidebar-link">fs</a></li><li><a href="gps.html" class="sidebar-link">gps</a></li><li><a href="help.html" class="sidebar-link">help</a></li><li><a href="http.html" class="sidebar-link">http</a></li><li><a href="io.html" class="sidebar-link">io</a></li><li><a href="keys.html" class="sidebar-link">keys</a></li><li><a href="multishell.html" class="sidebar-link">multishell</a></li><li><a href="os.html" class="sidebar-link">os</a></li><li><a href="paintutils.html" class="sidebar-link">paintutils</a></li><li><a href="parallel.html" class="sidebar-link">parallel</a></li><li><a href="peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="rednet.html" class="sidebar-link">rednet</a></li><li><strong class="sidebar-link selected">settings</strong></li><li><a href="shell.html" class="sidebar-link">shell</a></li><li><a href="term.html" class="sidebar-link">term</a></li><li><a href="textutils.html" class="sidebar-link">textutils</a></li><li><a href="turtle.html" class="sidebar-link">turtle</a></li><li><a href="vector.html" class="sidebar-link">vector</a></li><li><a href="window.html" class="sidebar-link">window</a></li></ul><h2 class="collapsed" tabindex="0">Modules</h2><ul><li><a href="../library/cc.audio.dfpwm.html" class="sidebar-link">cc.audio.dfpwm</a></li><li><a href="../library/cc.completion.html" class="sidebar-link">cc.completion</a></li><li><a href="../library/cc.expect.html" class="sidebar-link">cc.expect</a></li><li><a href="../library/cc.image.nft.html" class="sidebar-link">cc.image.nft</a></li><li><a href="../library/cc.pretty.html" class="sidebar-link">cc.pretty</a></li><li><a href="../library/cc.require.html" class="sidebar-link">cc.require</a></li><li><a href="../library/cc.shell.completion.html" class="sidebar-link">cc.shell.completion</a></li><li><a href="../library/cc.strings.html" class="sidebar-link">cc.strings</a></li></ul><h2 class="collapsed" tabindex="0">Events</h2><ul><li><a href="../event/alarm.html" class="sidebar-link">alarm</a></li><li><a href="../event/char.html" class="sidebar-link">char</a></li><li><a href="../event/computer_command.html" class="sidebar-link">computer_command</a></li><li><a href="../event/disk.html" class="sidebar-link">disk</a></li><li><a href="../event/disk_eject.html" class="sidebar-link">disk_eject</a></li><li><a href="../event/file_transfer.html" class="sidebar-link">file_transfer</a></li><li><a href="../event/http_check.html" class="sidebar-link">http_check</a></li><li><a href="../event/http_failure.html" class="sidebar-link">http_failure</a></li><li><a href="../event/http_success.html" class="sidebar-link">http_success</a></li><li><a href="../event/key.html" class="sidebar-link">key</a></li><li><a href="../event/key_up.html" class="sidebar-link">key_up</a></li><li><a href="../event/modem_message.html" class="sidebar-link">modem_message</a></li><li><a href="../event/monitor_resize.html" class="sidebar-link">monitor_resize</a></li><li><a href="../event/monitor_touch.html" class="sidebar-link">monitor_touch</a></li><li><a href="../event/mouse_click.html" class="sidebar-link">mouse_click</a></li><li><a href="../event/mouse_drag.html" class="sidebar-link">mouse_drag</a></li><li><a href="../event/mouse_scroll.html" class="sidebar-link">mouse_scroll</a></li><li><a href="../event/mouse_up.html" class="sidebar-link">mouse_up</a></li><li><a href="../event/paste.html" class="sidebar-link">paste</a></li><li><a href="../event/peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="../event/peripheral_detach.html" class="sidebar-link">peripheral_detach</a></li><li><a href="../event/rednet_message.html" class="sidebar-link">rednet_message</a></li><li><a href="../event/redstone.html" class="sidebar-link">redstone</a></li><li><a href="../event/speaker_audio_empty.html" class="sidebar-link">speaker_audio_empty</a></li><li><a href="../event/task_complete.html" class="sidebar-link">task_complete</a></li><li><a href="../event/term_resize.html" class="sidebar-link">term_resize</a></li><li><a href="../event/terminate.html" class="sidebar-link">terminate</a></li><li><a href="../event/timer.html" class="sidebar-link">timer</a></li><li><a href="../event/turtle_inventory.html" class="sidebar-link">turtle_inventory</a></li><li><a href="../event/websocket_closed.html" class="sidebar-link">websocket_closed</a></li><li><a href="../event/websocket_failure.html" class="sidebar-link">websocket_failure</a></li><li><a href="../event/websocket_message.html" class="sidebar-link">websocket_message</a></li><li><a href="../event/websocket_success.html" class="sidebar-link">websocket_success</a></li></ul><h2 class="collapsed" tabindex="0">Guides</h2><ul><li><a href="../guide/gps_setup.html" class="sidebar-link">Setting up GPS</a></li><li><a href="../guide/local_ips.html" class="sidebar-link">Allowing access to local IPs</a></li><li><a href="../guide/speaker_audio.html" class="sidebar-link">Playing audio with speakers</a></li><li><a href="../guide/using_require.html" class="sidebar-link">Reusing code with require</a></li></ul><h2 class="collapsed" tabindex="0">Reference</h2><ul><li><a href="../reference/feature_compat.html" class="sidebar-link">Lua 5.2/5.3 features in CC: Tweaked</a></li></ul></div></nav><div id="main"><div id="search-form" role="form"><input id="search-box" type="text" placeholder="Search..." autocomplete="off" tabindex="0"></input><div id="search-results"></div></div><section id="content"><h1>settings</h1><p>Read and write configuration options for CraftOS and your programs.</p>
<p>When a computer starts, it reads the current value of settings from the
<code>/.settings</code> file. These values then may be <a href="settings.html#v:get" class="reference">read</a> or
<a href="settings.html#v:set" class="reference">modified</a>.</p>
<div class="admonition admonition-warning"><h5 class="admonition-heading"><span aria-hidden="true">⚠</span> warning</h5><p>Calling <a href="settings.html#v:set" class="reference"><code>settings.set</code></a> does <em>not</em> update the settings file by default. You
<em>must</em> call <a href="settings.html#v:save" class="reference"><code>settings.save</code></a> to persist values.</p>
</div><h3>Usage</h3><ul><li><p>Define an basic setting <code>123</code> and read its value.</p>
<pre class="highlight" data-lua-kind="stmt"><a title="Define a new setting, optional specifying various properties about it." href="settings.html#v:define"><span class="ident">settings</span><span class="symbol">.</span><span class="symbol">define</span></a><span class="symbol">(</span><span class="string">"my.setting"</span><span class="symbol">,</span> <span class="symbol">{</span>
    <span class="ident">description</span> <span class="symbol">=</span> <span class="string">"An example setting"</span><span class="symbol">,</span>
    <span class="ident">default</span> <span class="symbol">=</span> <span class="number">123</span><span class="symbol">,</span>
    <span class="ident">type</span> <span class="symbol">=</span> <span class="ident">number</span><span class="symbol">,</span>
<span class="symbol">}</span><span class="symbol">)</span>
<span class="ident">print</span><span class="symbol">(</span><span class="string">"my.setting = "</span> <span class="symbol">..</span> <a title="Get the value of a setting." href="settings.html#v:get"><span class="ident">settings</span><span class="symbol">.</span><span class="symbol">get</span></a><span class="symbol">(</span><span class="string">"my.setting"</span><span class="symbol">)</span><span class="symbol">)</span> <span class="comment">-- 123</span><span class="symbol"></span></pre><p>You can then use the <code>set</code> program to change its value (e.g. <code>set my.setting 456</code>),
and then re-run the <code>example</code> program to check it has changed.</p>
</li></ul><h3>Changes</h3><ul><li><strong>New in version 1.78</strong> </li></ul><table class="definition-list"><tr><th class="definition-name"><a href="#v:define">define(name [, options])</a></th><td>Define a new setting, optional specifying various properties about it.</td></tr><tr><th class="definition-name"><a href="#v:undefine">undefine(name)</a></th><td>Remove a <a href="settings.html#v:define" class="reference">definition</a> of a setting.</td></tr><tr><th class="definition-name"><a href="#v:set">set(name, value)</a></th><td>Set the value of a setting.</td></tr><tr><th class="definition-name"><a href="#v:get">get(name [, default])</a></th><td>Get the value of a setting.</td></tr><tr><th class="definition-name"><a href="#v:getDetails">getDetails(name)</a></th><td>Get details about a specific setting.</td></tr><tr><th class="definition-name"><a href="#v:unset">unset(name)</a></th><td>Remove the value of a setting, setting it to the default.</td></tr><tr><th class="definition-name"><a href="#v:clear">clear()</a></th><td>Resets the value of all settings.</td></tr><tr><th class="definition-name"><a href="#v:getNames">getNames()</a></th><td>Get the names of all currently defined settings.</td></tr><tr><th class="definition-name"><a href="#v:load">load([sPath])</a></th><td>Load settings from the given file.</td></tr><tr><th class="definition-name"><a href="#v:save">save([sPath])</a></th><td>Save settings to the given file.</td></tr></table><dl class="definition"><dt><a name="v:define" href="#v:define"></a><span class="definition-name">define(name [, options])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L66" class="source-link">Source</a></dt><dd><p>Define a new setting, optional specifying various properties about it.</p>
<p>While settings do not have to be added before being used, doing so allows
you to provide defaults and additional metadata.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">name</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The name of this option</li><li><span class="parameter">options<span class="optional" title="This argument is optional">?</span></span> <span class="type">{ description<span class="optional" title="This field is optional">?</span> = <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>, default<span class="optional" title="This field is optional">?</span> = <span class="reference reference-unresolved"><code>any</code></span>, type<span class="optional" title="This field is optional">?</span> = <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a> }</span> <p>Options for this setting. This table accepts the following fields:</p>
<ul>
<li><code>description</code>: A description which may be printed when running the <code>set</code> program.</li>
<li><code>default</code>: A default value, which is returned by <a href="settings.html#v:get" class="reference"><code>settings.get</code></a> if the
setting has not been changed.</li>
<li><code>type</code>: Require values to be of this type. <a href="settings.html#v:set" class="reference">Setting</a> the value to another type
will error.</li>
</ul>
</li></ol><h3>Changes</h3><ul><li><strong>New in version 1.87.0</strong> </li></ul></dd><dt><a name="v:undefine" href="#v:undefine"></a><span class="definition-name">undefine(name)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L94" class="source-link">Source</a></dt><dd><p>Remove a <a href="settings.html#v:define" class="reference">definition</a> of a setting.</p>
<p>If a setting has been changed, this does not remove its value. Use <a href="settings.html#v:unset" class="reference"><code>settings.unset</code></a>
for that.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">name</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The name of this option</li></ol><h3>Changes</h3><ul><li><strong>New in version 1.87.0</strong> </li></ul></dd><dt><a name="v:set" href="#v:set"></a><span class="definition-name">set(name, value)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L125" class="source-link">Source</a></dt><dd><p>Set the value of a setting.</p>
<div class="admonition admonition-warning"><h5 class="admonition-heading"><span aria-hidden="true">⚠</span> warning</h5><p>Calling <a href="settings.html#v:set" class="reference"><code>settings.set</code></a> does <em>not</em> update the settings file by default. You
<em>must</em> call <a href="settings.html#v:save" class="reference"><code>settings.save</code></a> to persist values.</p>
</div><h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">name</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The name of the setting to set</li><li><span class="parameter">value</span>  The setting's value. This cannot be <code>nil</code>, and must be
serialisable by <a href="textutils.html#v:serialize" class="reference"><code>textutils.serialize</code></a>.</li></ol><h3>Throws</h3><ul><li><p>If this value cannot be serialised</p>
</li></ul><h3>See also</h3><ul><li><strong><a href="settings.html#v:unset" class="reference"><code>settings.unset</code></a></strong> </li></ul></dd><dt><a name="v:get" href="#v:get"></a><span class="definition-name">get(name [, default])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L143" class="source-link">Source</a></dt><dd><p>Get the value of a setting.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">name</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The name of the setting to get.</li><li><span class="parameter">default<span class="optional" title="This argument is optional">?</span></span>  The value to use should there be pre-existing value for
this setting. If not given, it will use the setting's default value if given,
or <code>nil</code> otherwise.</li></ol><h3>Returns</h3><ol class="return-list"><li> The setting's, or the default if the setting has not been changed.</li></ol><h3>Changes</h3><ul><li><strong>Changed in version 1.87.0:</strong> Now respects default value if pre-defined and <code>default</code> is unset.</li></ul></dd><dt><a name="v:getDetails" href="#v:getDetails"></a><span class="definition-name">getDetails(name)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L163" class="source-link">Source</a></dt><dd><p>Get details about a specific setting.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">name</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The name of the setting to get.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">{ description<span class="optional" title="This field is optional">?</span> = <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>, default<span class="optional" title="This field is optional">?</span> = <span class="reference reference-unresolved"><code>any</code></span>, type<span class="optional" title="This field is optional">?</span> = <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>, value<span class="optional" title="This field is optional">?</span> = <span class="reference reference-unresolved"><code>any</code></span> }</span> Information about this setting. This includes all information from <a href="settings.html#v:define" class="reference"><code>settings.define</code></a>,
as well as this setting's value.</li></ol><h3>Changes</h3><ul><li><strong>New in version 1.87.0</strong> </li></ul></dd><dt><a name="v:unset" href="#v:unset"></a><span class="definition-name">unset(name)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L180" class="source-link">Source</a></dt><dd><p>Remove the value of a setting, setting it to the default.</p>
<p><a href="settings.html#v:get" class="reference"><code>settings.get</code></a> will return the default value until the setting's value is
<a href="settings.html#v:set" class="reference">set</a>, or the computer is rebooted.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">name</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The name of the setting to unset.</li></ol><h3>See also</h3><ul><li><strong><a href="settings.html#v:set" class="reference"><code>settings.set</code></a></strong> </li><li><strong><a href="settings.html#v:clear" class="reference"><code>settings.clear</code></a></strong> </li></ul></dd><dt><a name="v:clear" href="#v:clear"></a><span class="definition-name">clear()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L189" class="source-link">Source</a></dt><dd><p>Resets the value of all settings. Equivalent to calling <a href="settings.html#v:unset" class="reference"><code>settings.unset</code></a></p>
<ul>
<li>on every setting.</li>
</ul>
<p>@see settings.unset</p>
</dd><dt><a name="v:getNames" href="#v:getNames"></a><span class="definition-name">getNames()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L199" class="source-link">Source</a></dt><dd><p>Get the names of all currently defined settings.</p>
<h3>Returns</h3><ol class="return-list"><li><span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a> }</span> An alphabetically sorted list of all currently-defined
settings.</li></ol></dd><dt><a name="v:load" href="#v:load"></a><span class="definition-name">load([sPath])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L223" class="source-link">Source</a></dt><dd><p>Load settings from the given file.</p>
<p>Existing settings will be merged with any pre-existing ones. Conflicting
entries will be overwritten, but any others will be preserved.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">sPath<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The file to load from, defaulting to <code>.settings</code>.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>boolean</code></span></span> Whether settings were successfully read from this
file. Reasons for failure may include the file not existing or being
corrupted.</li></ol><h3>See also</h3><ul><li><strong><a href="settings.html#v:save" class="reference"><code>settings.save</code></a></strong> </li></ul><h3>Changes</h3><ul><li><strong>Changed in version 1.87.0:</strong> <code>sPath</code> is now optional.</li></ul></dd><dt><a name="v:save" href="#v:save"></a><span class="definition-name">save([sPath])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/settings.lua#L263" class="source-link">Source</a></dt><dd><p>Save settings to the given file.</p>
<p>This will entirely overwrite the pre-existing file. Settings defined in the
file, but not currently loaded will be removed.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">sPath<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The path to save settings to, defaulting to <code>.settings</code>.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>boolean</code></span></span> If the settings were successfully saved.</li></ol><h3>See also</h3><ul><li><strong><a href="settings.html#v:load" class="reference"><code>settings.load</code></a></strong> </li></ul><h3>Changes</h3><ul><li><strong>Changed in version 1.87.0:</strong> <code>sPath</code> is now optional.</li></ul></dd></dl></section><footer>Last updated on 2023-10-11</footer></div><div id="search-overlay"></div><script src="../main.js?v=f449c6d1" type="text/javascript" defer=""></script></body></html>