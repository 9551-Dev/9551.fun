<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>cc.shell.completion</title><meta property="og:title" content="cc.shell.completion" /><meta property="og:type" content="website" /><meta name="description" content="A collection of helper methods for working with shell completion." /><meta property="og:description" content="A collection of helper methods for working with shell completion." /><meta property="og:image" content="https://devvie.cc/docs/cc/pack.png" /><meta property="og:site_name" content="CC: Tweaked" /><meta name="illuaminate:index" content="../index.json" /><link rel="stylesheet" href="../main.css?v=5ab962eb" type="text/css" /><!--
SPDX-FileCopyrightText: 2020 The CC: Tweaked Developers

SPDX-License-Identifier: MPL-2.0
-->

<meta name="theme-color" content="#c8d87c"></head><body><nav id="nav"><button id="nav-reveal" type="button">&#9776;</button><h1><a href=".././"><img src="../pack.png" alt="CC: Tweaked" /></a></h1><div class="nav-links"><h2 tabindex="0">Contents</h2><ul><li><a href="#v:file" class="sidebar-link">file</a></li><li><a href="#v:dir" class="sidebar-link">dir</a></li><li><a href="#v:dirOrFile" class="sidebar-link">dirOrFile</a></li><li><a href="#v:program" class="sidebar-link">program</a></li><li><a href="#v:programWithArgs" class="sidebar-link">programWithArgs</a></li><li><a href="#v:help" class="sidebar-link">help</a></li><li><a href="#v:choice" class="sidebar-link">choice</a></li><li><a href="#v:peripheral" class="sidebar-link">peripheral</a></li><li><a href="#v:side" class="sidebar-link">side</a></li><li><a href="#v:setting" class="sidebar-link">setting</a></li><li><a href="#v:command" class="sidebar-link">command</a></li><li><a href="#v:build" class="sidebar-link">build</a></li></ul><h2 class="collapsed" tabindex="0">Globals</h2><ul><li><a href="../module/_G.html" class="sidebar-link">_G</a></li><li><a href="../module/colors.html" class="sidebar-link">colors</a></li><li><a href="../module/colours.html" class="sidebar-link">colours</a></li><li><a href="../module/commands.html" class="sidebar-link">commands</a></li><li><a href="../module/disk.html" class="sidebar-link">disk</a></li><li><a href="../module/fs.html" class="sidebar-link">fs</a></li><li><a href="../module/gps.html" class="sidebar-link">gps</a></li><li><a href="../module/help.html" class="sidebar-link">help</a></li><li><a href="../module/http.html" class="sidebar-link">http</a></li><li><a href="../module/io.html" class="sidebar-link">io</a></li><li><a href="../module/keys.html" class="sidebar-link">keys</a></li><li><a href="../module/multishell.html" class="sidebar-link">multishell</a></li><li><a href="../module/os.html" class="sidebar-link">os</a></li><li><a href="../module/paintutils.html" class="sidebar-link">paintutils</a></li><li><a href="../module/parallel.html" class="sidebar-link">parallel</a></li><li><a href="../module/peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="../module/rednet.html" class="sidebar-link">rednet</a></li><li><a href="../module/settings.html" class="sidebar-link">settings</a></li><li><a href="../module/shell.html" class="sidebar-link">shell</a></li><li><a href="../module/term.html" class="sidebar-link">term</a></li><li><a href="../module/textutils.html" class="sidebar-link">textutils</a></li><li><a href="../module/turtle.html" class="sidebar-link">turtle</a></li><li><a href="../module/vector.html" class="sidebar-link">vector</a></li><li><a href="../module/window.html" class="sidebar-link">window</a></li></ul><h2 tabindex="0">Modules</h2><ul><li><a href="cc.audio.dfpwm.html" class="sidebar-link">cc.audio.dfpwm</a></li><li><a href="cc.completion.html" class="sidebar-link">cc.completion</a></li><li><a href="cc.expect.html" class="sidebar-link">cc.expect</a></li><li><a href="cc.image.nft.html" class="sidebar-link">cc.image.nft</a></li><li><a href="cc.pretty.html" class="sidebar-link">cc.pretty</a></li><li><a href="cc.require.html" class="sidebar-link">cc.require</a></li><li><strong class="sidebar-link selected">cc.shell.completion</strong></li><li><a href="cc.strings.html" class="sidebar-link">cc.strings</a></li></ul><h2 class="collapsed" tabindex="0">Events</h2><ul><li><a href="../event/alarm.html" class="sidebar-link">alarm</a></li><li><a href="../event/char.html" class="sidebar-link">char</a></li><li><a href="../event/computer_command.html" class="sidebar-link">computer_command</a></li><li><a href="../event/disk.html" class="sidebar-link">disk</a></li><li><a href="../event/disk_eject.html" class="sidebar-link">disk_eject</a></li><li><a href="../event/file_transfer.html" class="sidebar-link">file_transfer</a></li><li><a href="../event/http_check.html" class="sidebar-link">http_check</a></li><li><a href="../event/http_failure.html" class="sidebar-link">http_failure</a></li><li><a href="../event/http_success.html" class="sidebar-link">http_success</a></li><li><a href="../event/key.html" class="sidebar-link">key</a></li><li><a href="../event/key_up.html" class="sidebar-link">key_up</a></li><li><a href="../event/modem_message.html" class="sidebar-link">modem_message</a></li><li><a href="../event/monitor_resize.html" class="sidebar-link">monitor_resize</a></li><li><a href="../event/monitor_touch.html" class="sidebar-link">monitor_touch</a></li><li><a href="../event/mouse_click.html" class="sidebar-link">mouse_click</a></li><li><a href="../event/mouse_drag.html" class="sidebar-link">mouse_drag</a></li><li><a href="../event/mouse_scroll.html" class="sidebar-link">mouse_scroll</a></li><li><a href="../event/mouse_up.html" class="sidebar-link">mouse_up</a></li><li><a href="../event/paste.html" class="sidebar-link">paste</a></li><li><a href="../event/peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="../event/peripheral_detach.html" class="sidebar-link">peripheral_detach</a></li><li><a href="../event/rednet_message.html" class="sidebar-link">rednet_message</a></li><li><a href="../event/redstone.html" class="sidebar-link">redstone</a></li><li><a href="../event/speaker_audio_empty.html" class="sidebar-link">speaker_audio_empty</a></li><li><a href="../event/task_complete.html" class="sidebar-link">task_complete</a></li><li><a href="../event/term_resize.html" class="sidebar-link">term_resize</a></li><li><a href="../event/terminate.html" class="sidebar-link">terminate</a></li><li><a href="../event/timer.html" class="sidebar-link">timer</a></li><li><a href="../event/turtle_inventory.html" class="sidebar-link">turtle_inventory</a></li><li><a href="../event/websocket_closed.html" class="sidebar-link">websocket_closed</a></li><li><a href="../event/websocket_failure.html" class="sidebar-link">websocket_failure</a></li><li><a href="../event/websocket_message.html" class="sidebar-link">websocket_message</a></li><li><a href="../event/websocket_success.html" class="sidebar-link">websocket_success</a></li></ul><h2 class="collapsed" tabindex="0">Guides</h2><ul><li><a href="../guide/gps_setup.html" class="sidebar-link">Setting up GPS</a></li><li><a href="../guide/local_ips.html" class="sidebar-link">Allowing access to local IPs</a></li><li><a href="../guide/speaker_audio.html" class="sidebar-link">Playing audio with speakers</a></li><li><a href="../guide/using_require.html" class="sidebar-link">Reusing code with require</a></li></ul><h2 class="collapsed" tabindex="0">Reference</h2><ul><li><a href="../reference/feature_compat.html" class="sidebar-link">Lua 5.2/5.3 features in CC: Tweaked</a></li></ul></div></nav><div id="main"><div id="search-form" role="form"><input id="search-box" type="text" placeholder="Search..." autocomplete="off" tabindex="0"></input><div id="search-results"></div></div><section id="content"><h1>cc.shell.completion</h1><p>A collection of helper methods for working with shell completion.</p>
<p>Most programs may be completed using the <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> helper method, rather than
manually switching on the argument index.</p>
<p>Note, the helper functions within this module do not accept an argument index,
and so are not directly usable with the <a href="../module/shell.html#v:setCompletionFunction" class="reference"><code>shell.setCompletionFunction</code></a>. Instead,
wrap them using <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a>, or your own custom function.</p>
<h3>Usage</h3><ul><li><p>Register a completion handler for example.lua which prompts for a
choice of options, followed by a directory, and then multiple files.</p>
<pre class="highlight" data-lua-kind="stmt"><span class="keyword">local</span> <a title="A collection of helper methods for working with shell completion." href="cc.shell.completion.html"><span class="ident">completion</span> </a><span class="symbol">=</span> <span class="ident">require</span> <span class="string">"cc.shell.completion"</span>
<span class="keyword">local</span> <span class="ident">complete</span> <span class="symbol">=</span> <a title="A helper function for building shell completion arguments." href="cc.shell.completion.html#v:build"><span class="ident">completion</span><span class="symbol">.</span><span class="symbol">build</span></a><span class="symbol">(</span>
  <span class="symbol">{</span> <a title="Wraps cc.completion.choice as a build compatible function." href="cc.shell.completion.html#v:choice"><span class="ident">completion</span><span class="symbol">.</span><span class="symbol">choice</span></a><span class="symbol">,</span> <span class="symbol">{</span> <span class="string">"get"</span><span class="symbol">,</span> <span class="string">"put"</span> <span class="symbol">}</span> <span class="symbol">}</span><span class="symbol">,</span>
<a title="Complete the name of a directory relative to the current working directory." href="cc.shell.completion.html#v:dir">  <span class="ident">completion</span><span class="symbol">.</span><span class="symbol">dir</span></a><span class="symbol">,</span>
  <span class="symbol">{</span> <a title="Complete the name of a file relative to the current working directory." href="cc.shell.completion.html#v:file"><span class="ident">completion</span><span class="symbol">.</span><span class="symbol">file</span></a><span class="symbol">,</span> <span class="ident">many</span> <span class="symbol">=</span> <span class="literal-kw">true</span> <span class="symbol">}</span>
<span class="symbol">)</span>
<a title="Set the completion function for a program." href="../module/shell.html#v:setCompletionFunction"><span class="ident">shell</span><span class="symbol">.</span><span class="symbol">setCompletionFunction</span></a><span class="symbol">(</span><span class="string">"example.lua"</span><span class="symbol">,</span> <span class="ident">complete</span><span class="symbol">)</span>
<span class="ident">read</span><span class="symbol">(</span><span class="literal-kw">nil</span><span class="symbol">,</span> <span class="literal-kw">nil</span><span class="symbol">,</span> <a title="Complete a shell command line." href="../module/shell.html#v:complete"><span class="ident">shell</span><span class="symbol">.</span><span class="symbol">complete</span></a><span class="symbol">,</span> <span class="string">"example "</span><span class="symbol">)</span><span class="symbol"></span></pre></li></ul><h3>See also</h3><ul><li><strong><a href="cc.completion.html" class="reference"><code>cc.completion</code></a></strong> For more general helpers, suitable for use with <a href="../module/_G.html#v:read" class="reference"><code>_G.read</code></a>.</li><li><strong><a href="../module/shell.html#v:setCompletionFunction" class="reference"><code>shell.setCompletionFunction</code></a></strong> </li></ul><h3>Changes</h3><ul><li><strong>New in version 1.85.0</strong> </li></ul><table class="definition-list"><tr><th class="definition-name"><a href="#v:file">file(shell, text)</a></th><td>Complete the name of a file relative to the current working directory.</td></tr><tr><th class="definition-name"><a href="#v:dir">dir(shell, text)</a></th><td>Complete the name of a directory relative to the current working directory.</td></tr><tr><th class="definition-name"><a href="#v:dirOrFile">dirOrFile(shell, text, previous [, add_space])</a></th><td>Complete the name of a file or directory relative to the current working directory.</td></tr><tr><th class="definition-name"><a href="#v:program">program(shell, text)</a></th><td>Complete the name of a program.</td></tr><tr><th class="definition-name"><a href="#v:programWithArgs">programWithArgs(shell, text, previous, starting)</a></th><td>Complete arguments of a program.</td></tr><tr><th class="definition-name"><a href="#v:help">help</a></th><td>Wraps <a href="../module/help.html#v:completeTopic" class="reference"><code>help.completeTopic</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</td></tr><tr><th class="definition-name"><a href="#v:choice">choice</a></th><td>Wraps <a href="cc.completion.html#v:choice" class="reference"><code>cc.completion.choice</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</td></tr><tr><th class="definition-name"><a href="#v:peripheral">peripheral</a></th><td>Wraps <a href="cc.completion.html#v:peripheral" class="reference"><code>cc.completion.peripheral</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</td></tr><tr><th class="definition-name"><a href="#v:side">side</a></th><td>Wraps <a href="cc.completion.html#v:side" class="reference"><code>cc.completion.side</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</td></tr><tr><th class="definition-name"><a href="#v:setting">setting</a></th><td>Wraps <a href="cc.completion.html#v:setting" class="reference"><code>cc.completion.setting</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</td></tr><tr><th class="definition-name"><a href="#v:command">command</a></th><td>Wraps <a href="cc.completion.html#v:command" class="reference"><code>cc.completion.command</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</td></tr><tr><th class="definition-name"><a href="#v:build">build(...)</a></th><td>A helper function for building shell completion arguments.</td></tr></table><dl class="definition"><dt><a name="v:file" href="#v:file"></a><span class="definition-name">file(shell, text)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L40" class="source-link">Source</a></dt><dd><p>Complete the name of a file relative to the current working directory.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">shell</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a></span> The shell we're completing in.</li><li><span class="parameter">text</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> Current text to complete.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>... }</span> A list of suffixes of matching files.</li></ol></dd><dt><a name="v:dir" href="#v:dir"></a><span class="definition-name">dir(shell, text)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L53" class="source-link">Source</a></dt><dd><p>Complete the name of a directory relative to the current working directory.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">shell</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a></span> The shell we're completing in.</li><li><span class="parameter">text</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> Current text to complete.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>... }</span> A list of suffixes of matching directories.</li></ol></dd><dt><a name="v:dirOrFile" href="#v:dirOrFile"></a><span class="definition-name">dirOrFile(shell, text, previous [, add_space])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L69" class="source-link">Source</a></dt><dd><p>Complete the name of a file or directory relative to the current working
directory.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">shell</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a></span> The shell we're completing in.</li><li><span class="parameter">text</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> Current text to complete.</li><li><span class="parameter">previous</span> <span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>... }</span> The shell arguments before this one.</li><li><span class="parameter">add_space<span class="optional" title="This argument is optional">?</span></span> <span class="type"><span class="reference reference-unresolved"><code>boolean</code></span></span> Whether to add a space after the completed item.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>... }</span> A list of suffixes of matching files and directories.</li></ol></dd><dt><a name="v:program" href="#v:program"></a><span class="definition-name">program(shell, text)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L98" class="source-link">Source</a></dt><dd><p>Complete the name of a program.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">shell</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a></span> The shell we're completing in.</li><li><span class="parameter">text</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> Current text to complete.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>... }</span> A list of suffixes of matching programs.</li></ol><h3>See also</h3><ul><li><strong><a href="../module/shell.html#v:completeProgram" class="reference"><code>shell.completeProgram</code></a></strong> </li></ul></dd><dt><a name="v:programWithArgs" href="#v:programWithArgs"></a><span class="definition-name">programWithArgs(shell, text, previous, starting)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L110" class="source-link">Source</a></dt><dd><p>Complete arguments of a program.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">shell</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a></span> The shell we're completing in.</li><li><span class="parameter">text</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> Current text to complete.</li><li><span class="parameter">previous</span> <span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>... }</span> The shell arguments before this one.</li><li><span class="parameter">starting</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> Which argument index this program and args start at.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">{ <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a>... }</span> A list of suffixes of matching programs or arguments.</li></ol><h3>Changes</h3><ul><li><strong>New in version 1.97.0</strong> </li></ul></dd><dt><a name="v:help" href="#v:help"></a><span class="definition-name">help</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L200" class="source-link">Source</a></dt><dd><p>Wraps <a href="../module/help.html#v:completeTopic" class="reference"><code>help.completeTopic</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</p>
</dd><dt><a name="v:choice" href="#v:choice"></a><span class="definition-name">choice</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L201" class="source-link">Source</a></dt><dd><p>Wraps <a href="cc.completion.html#v:choice" class="reference"><code>cc.completion.choice</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</p>
</dd><dt><a name="v:peripheral" href="#v:peripheral"></a><span class="definition-name">peripheral</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L202" class="source-link">Source</a></dt><dd><p>Wraps <a href="cc.completion.html#v:peripheral" class="reference"><code>cc.completion.peripheral</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</p>
</dd><dt><a name="v:side" href="#v:side"></a><span class="definition-name">side</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L203" class="source-link">Source</a></dt><dd><p>Wraps <a href="cc.completion.html#v:side" class="reference"><code>cc.completion.side</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</p>
</dd><dt><a name="v:setting" href="#v:setting"></a><span class="definition-name">setting</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L204" class="source-link">Source</a></dt><dd><p>Wraps <a href="cc.completion.html#v:setting" class="reference"><code>cc.completion.setting</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</p>
</dd><dt><a name="v:command" href="#v:command"></a><span class="definition-name">command</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L205" class="source-link">Source</a></dt><dd><p>Wraps <a href="cc.completion.html#v:command" class="reference"><code>cc.completion.command</code></a> as a <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> compatible function.</p>
</dd><dt><a name="v:build" href="#v:build"></a><span class="definition-name">build(...)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/modules/main/cc/shell/completion.lua#L158" class="source-link">Source</a></dt><dd><p>A helper function for building shell completion arguments.</p>
<p>This accepts a series of single-argument completion functions, and combines
them into a function suitable for use with <a href="../module/shell.html#v:setCompletionFunction" class="reference"><code>shell.setCompletionFunction</code></a>.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">...</span> <span class="type">nil | <a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a> | <span class="reference reference-unresolved"><code>function</code></span></span> <p>Every argument to <a href="cc.shell.completion.html#v:build" class="reference"><code>build</code></a> represents an argument
to the program you wish to complete. Each argument can be one of three types:</p>
<ul>
<li>
<p><code>nil</code>: This argument will not be completed.</p>
</li>
<li>
<p>A function: This argument will be completed with the given function. It is
called with the <a href="../module/shell.html" class="reference"><code>shell</code></a> object, the string to complete and the arguments
before this one.</p>
</li>
<li>
<p>A table: This acts as a more powerful version of the function case. The table
must have a function as the first item - this will be called with the shell,
string and preceding arguments as above, but also followed by any additional
items in the table. This provides a more convenient interface to pass
options to your completion functions.</p>
<p>If this table is the last argument, it may also set the <code>many</code> key to true,
which states this function should be used to complete any remaining arguments.</p>
</li>
</ul>
</li></ol></dd></dl></section><footer>Last updated on 2023-10-11</footer></div><div id="search-overlay"></div><script src="../main.js?v=f449c6d1" type="text/javascript" defer=""></script></body></html>