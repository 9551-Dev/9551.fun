<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>multishell</title><meta property="og:title" content="multishell" /><meta property="og:type" content="website" /><meta name="description" content="Multishell allows multiple programs to be run at the same time." /><meta property="og:description" content="Multishell allows multiple programs to be run at the same time." /><meta property="og:image" content="https://devvie.cc/docs/cc/pack.png" /><meta property="og:site_name" content="CC: Tweaked" /><meta name="illuaminate:index" content="../index.json" /><link rel="stylesheet" href="../main.css?v=5ab962eb" type="text/css" /><!--
SPDX-FileCopyrightText: 2020 The CC: Tweaked Developers

SPDX-License-Identifier: MPL-2.0
-->

<meta name="theme-color" content="#c8d87c"></head><body><nav id="nav"><button id="nav-reveal" type="button">&#9776;</button><h1><a href=".././"><img src="../pack.png" alt="CC: Tweaked" /></a></h1><div class="nav-links"><h2 tabindex="0">Contents</h2><ul><li><a href="#v:getFocus" class="sidebar-link">getFocus</a></li><li><a href="#v:setFocus" class="sidebar-link">setFocus</a></li><li><a href="#v:getTitle" class="sidebar-link">getTitle</a></li><li><a href="#v:setTitle" class="sidebar-link">setTitle</a></li><li><a href="#v:getCurrent" class="sidebar-link">getCurrent</a></li><li><a href="#v:launch" class="sidebar-link">launch</a></li><li><a href="#v:getCount" class="sidebar-link">getCount</a></li></ul><h2 tabindex="0">Globals</h2><ul><li><a href="_G.html" class="sidebar-link">_G</a></li><li><a href="colors.html" class="sidebar-link">colors</a></li><li><a href="colours.html" class="sidebar-link">colours</a></li><li><a href="commands.html" class="sidebar-link">commands</a></li><li><a href="disk.html" class="sidebar-link">disk</a></li><li><a href="fs.html" class="sidebar-link">fs</a></li><li><a href="gps.html" class="sidebar-link">gps</a></li><li><a href="help.html" class="sidebar-link">help</a></li><li><a href="http.html" class="sidebar-link">http</a></li><li><a href="io.html" class="sidebar-link">io</a></li><li><a href="keys.html" class="sidebar-link">keys</a></li><li><strong class="sidebar-link selected">multishell</strong></li><li><a href="os.html" class="sidebar-link">os</a></li><li><a href="paintutils.html" class="sidebar-link">paintutils</a></li><li><a href="parallel.html" class="sidebar-link">parallel</a></li><li><a href="peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="rednet.html" class="sidebar-link">rednet</a></li><li><a href="settings.html" class="sidebar-link">settings</a></li><li><a href="shell.html" class="sidebar-link">shell</a></li><li><a href="term.html" class="sidebar-link">term</a></li><li><a href="textutils.html" class="sidebar-link">textutils</a></li><li><a href="turtle.html" class="sidebar-link">turtle</a></li><li><a href="vector.html" class="sidebar-link">vector</a></li><li><a href="window.html" class="sidebar-link">window</a></li></ul><h2 class="collapsed" tabindex="0">Modules</h2><ul><li><a href="../library/cc.audio.dfpwm.html" class="sidebar-link">cc.audio.dfpwm</a></li><li><a href="../library/cc.completion.html" class="sidebar-link">cc.completion</a></li><li><a href="../library/cc.expect.html" class="sidebar-link">cc.expect</a></li><li><a href="../library/cc.image.nft.html" class="sidebar-link">cc.image.nft</a></li><li><a href="../library/cc.pretty.html" class="sidebar-link">cc.pretty</a></li><li><a href="../library/cc.require.html" class="sidebar-link">cc.require</a></li><li><a href="../library/cc.shell.completion.html" class="sidebar-link">cc.shell.completion</a></li><li><a href="../library/cc.strings.html" class="sidebar-link">cc.strings</a></li></ul><h2 class="collapsed" tabindex="0">Events</h2><ul><li><a href="../event/alarm.html" class="sidebar-link">alarm</a></li><li><a href="../event/char.html" class="sidebar-link">char</a></li><li><a href="../event/computer_command.html" class="sidebar-link">computer_command</a></li><li><a href="../event/disk.html" class="sidebar-link">disk</a></li><li><a href="../event/disk_eject.html" class="sidebar-link">disk_eject</a></li><li><a href="../event/file_transfer.html" class="sidebar-link">file_transfer</a></li><li><a href="../event/http_check.html" class="sidebar-link">http_check</a></li><li><a href="../event/http_failure.html" class="sidebar-link">http_failure</a></li><li><a href="../event/http_success.html" class="sidebar-link">http_success</a></li><li><a href="../event/key.html" class="sidebar-link">key</a></li><li><a href="../event/key_up.html" class="sidebar-link">key_up</a></li><li><a href="../event/modem_message.html" class="sidebar-link">modem_message</a></li><li><a href="../event/monitor_resize.html" class="sidebar-link">monitor_resize</a></li><li><a href="../event/monitor_touch.html" class="sidebar-link">monitor_touch</a></li><li><a href="../event/mouse_click.html" class="sidebar-link">mouse_click</a></li><li><a href="../event/mouse_drag.html" class="sidebar-link">mouse_drag</a></li><li><a href="../event/mouse_scroll.html" class="sidebar-link">mouse_scroll</a></li><li><a href="../event/mouse_up.html" class="sidebar-link">mouse_up</a></li><li><a href="../event/paste.html" class="sidebar-link">paste</a></li><li><a href="../event/peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="../event/peripheral_detach.html" class="sidebar-link">peripheral_detach</a></li><li><a href="../event/rednet_message.html" class="sidebar-link">rednet_message</a></li><li><a href="../event/redstone.html" class="sidebar-link">redstone</a></li><li><a href="../event/speaker_audio_empty.html" class="sidebar-link">speaker_audio_empty</a></li><li><a href="../event/task_complete.html" class="sidebar-link">task_complete</a></li><li><a href="../event/term_resize.html" class="sidebar-link">term_resize</a></li><li><a href="../event/terminate.html" class="sidebar-link">terminate</a></li><li><a href="../event/timer.html" class="sidebar-link">timer</a></li><li><a href="../event/turtle_inventory.html" class="sidebar-link">turtle_inventory</a></li><li><a href="../event/websocket_closed.html" class="sidebar-link">websocket_closed</a></li><li><a href="../event/websocket_failure.html" class="sidebar-link">websocket_failure</a></li><li><a href="../event/websocket_message.html" class="sidebar-link">websocket_message</a></li><li><a href="../event/websocket_success.html" class="sidebar-link">websocket_success</a></li></ul><h2 class="collapsed" tabindex="0">Guides</h2><ul><li><a href="../guide/gps_setup.html" class="sidebar-link">Setting up GPS</a></li><li><a href="../guide/local_ips.html" class="sidebar-link">Allowing access to local IPs</a></li><li><a href="../guide/speaker_audio.html" class="sidebar-link">Playing audio with speakers</a></li><li><a href="../guide/using_require.html" class="sidebar-link">Reusing code with require</a></li></ul><h2 class="collapsed" tabindex="0">Reference</h2><ul><li><a href="../reference/feature_compat.html" class="sidebar-link">Lua 5.2/5.3 features in CC: Tweaked</a></li></ul></div></nav><div id="main"><div id="search-form" role="form"><input id="search-box" type="text" placeholder="Search..." autocomplete="off" tabindex="0"></input><div id="search-results"></div></div><section id="content"><h1>multishell</h1><p>Multishell allows multiple programs to be run at the same time.</p>
<p>When multiple programs are running, it displays a tab bar at the top of the
screen, which allows you to switch between programs. New programs can be
launched using the <code>fg</code> or <code>bg</code> programs, or using the <a href="shell.html#v:openTab" class="reference"><code>shell.openTab</code></a> and
<a href="multishell.html#v:launch" class="reference"><code>multishell.launch</code></a> functions.</p>
<p>Each process is identified by its ID, which corresponds to its position in
the tab list. As tabs may be opened and closed, this ID is <em>not</em> constant
over a program's run. As such, be careful not to use stale IDs.</p>
<p>As with <a href="shell.html" class="reference"><code>shell</code></a>, <a href="multishell.html" class="reference"><code>multishell</code></a> is not a &quot;true&quot; API. Instead, it is a
standard program, which launches a shell and injects its API into the shell's
environment. This API is not available in the global environment, and so is
not available to <a href="os.html#v:loadAPI" class="reference">APIs</a>.</p>
<h3>Changes</h3><ul><li><strong>New in version 1.6</strong> </li></ul><table class="definition-list"><tr><th class="definition-name"><a href="#v:getFocus">getFocus()</a></th><td>Get the currently visible process.</td></tr><tr><th class="definition-name"><a href="#v:setFocus">setFocus(n)</a></th><td>Change the currently visible process.</td></tr><tr><th class="definition-name"><a href="#v:getTitle">getTitle(n)</a></th><td>Get the title of the given tab.</td></tr><tr><th class="definition-name"><a href="#v:setTitle">setTitle(n, title)</a></th><td>Set the title of the given process.</td></tr><tr><th class="definition-name"><a href="#v:getCurrent">getCurrent()</a></th><td>Get the index of the currently running process.</td></tr><tr><th class="definition-name"><a href="#v:launch">launch(tProgramEnv, sProgramPath, ...)</a></th><td>Start a new process, with the given environment, program and arguments.</td></tr><tr><th class="definition-name"><a href="#v:getCount">getCount()</a></th><td>Get the number of processes within this multishell.</td></tr></table><dl class="definition"><dt><a name="v:getFocus" href="#v:getFocus"></a><span class="definition-name">getFocus()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/programs/advanced/multishell.lua#L230" class="source-link">Source</a></dt><dd><p>Get the currently visible process. This will be the one selected on
the tab bar.</p>
<p>Note, this is different to <a href="multishell.html#v:getCurrent" class="reference"><code>getCurrent</code></a>, which returns the process which is
currently executing.</p>
<h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The currently visible process's index.</li></ol><h3>See also</h3><ul><li><strong><a href="multishell.html#v:setFocus" class="reference"><code>setFocus</code></a></strong> </li></ul></dd><dt><a name="v:setFocus" href="#v:setFocus"></a><span class="definition-name">setFocus(n)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/programs/advanced/multishell.lua#L240" class="source-link">Source</a></dt><dd><p>Change the currently visible process.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">n</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The process index to switch to.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>boolean</code></span></span> If the process was changed successfully. This will
return <span class="reference reference-unresolved"><code>false</code></span> if there is no process with this id.</li></ol><h3>See also</h3><ul><li><strong><a href="multishell.html#v:getFocus" class="reference"><code>getFocus</code></a></strong> </li></ul></dd><dt><a name="v:getTitle" href="#v:getTitle"></a><span class="definition-name">getTitle(n)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/programs/advanced/multishell.lua#L257" class="source-link">Source</a></dt><dd><p>Get the title of the given tab.</p>
<p>This starts as the name of the program, but may be changed using
<a href="multishell.html#v:setTitle" class="reference"><code>multishell.setTitle</code></a>.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">n</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The process index.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a> | nil</span> The current process title, or <span class="reference reference-unresolved"><code>nil</code></span> if the
process doesn't exist.</li></ol></dd><dt><a name="v:setTitle" href="#v:setTitle"></a><span class="definition-name">setTitle(n, title)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/programs/advanced/multishell.lua#L273" class="source-link">Source</a></dt><dd><p>Set the title of the given process.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">n</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The process index.</li><li><span class="parameter">title</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The new process title.</li></ol><h3>Usage</h3><ul><li><p>Change the title of the current process</p>
<pre class="highlight" data-lua-kind="expr"><a title="Set the title of the given process." href="multishell.html#v:setTitle"><span class="ident">multishell</span><span class="symbol">.</span><span class="symbol">setTitle</span></a><span class="symbol">(</span><a title="Get the index of the currently running process." href="multishell.html#v:getCurrent"><span class="ident">multishell</span><span class="symbol">.</span><span class="symbol">getCurrent</span></a><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">,</span> <span class="string">"Hello"</span><span class="symbol">)</span><span class="symbol"></span></pre></li></ul><h3>See also</h3><ul><li><strong><a href="multishell.html#v:getTitle" class="reference"><code>getTitle</code></a></strong> </li></ul></dd><dt><a name="v:getCurrent" href="#v:getCurrent"></a><span class="definition-name">getCurrent()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/programs/advanced/multishell.lua#L285" class="source-link">Source</a></dt><dd><p>Get the index of the currently running process.</p>
<h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The currently running process.</li></ol></dd><dt><a name="v:launch" href="#v:launch"></a><span class="definition-name">launch(tProgramEnv, sProgramPath, ...)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/programs/advanced/multishell.lua#L305" class="source-link">Source</a></dt><dd><p>Start a new process, with the given environment, program and arguments.</p>
<p>The returned process index is not constant over the program's run. It can be
safely used immediately after launching (for instance, to update the title or
switch to that tab). However, after your program has yielded, it may no
longer be correct.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">tProgramEnv</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a></span> The environment to load the path under.</li><li><span class="parameter">sProgramPath</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The path to the program to run.</li><li><span class="parameter">...</span>  Additional arguments to pass to the program.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The index of the created process.</li></ol><h3>Usage</h3><ul><li><p>Run the &quot;hello&quot; program, and set its title to &quot;Hello!&quot;</p>
<pre class="highlight" data-lua-kind="stmt"><span class="keyword">local</span> <span class="ident">id</span> <span class="symbol">=</span> <a title="Start a new process, with the given environment, program and arguments." href="multishell.html#v:launch"><span class="ident">multishell</span><span class="symbol">.</span><span class="symbol">launch</span></a><span class="symbol">(</span><span class="symbol">{</span><span class="symbol">}</span><span class="symbol">,</span> <span class="string">"/rom/programs/fun/hello.lua"</span><span class="symbol">)</span>
<a title="Set the title of the given process." href="multishell.html#v:setTitle"><span class="ident">multishell</span><span class="symbol">.</span><span class="symbol">setTitle</span></a><span class="symbol">(</span><span class="ident">id</span><span class="symbol">,</span> <span class="string">"Hello!"</span><span class="symbol">)</span><span class="symbol"></span></pre></li></ul><h3>See also</h3><ul><li><strong><a href="os.html#v:run" class="reference"><code>os.run</code></a></strong> </li></ul></dd><dt><a name="v:getCount" href="#v:getCount"></a><span class="definition-name">getCount()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/programs/advanced/multishell.lua#L319" class="source-link">Source</a></dt><dd><p>Get the number of processes within this multishell.</p>
<h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The number of processes.</li></ol></dd></dl></section><footer>Last updated on 2023-10-11</footer></div><div id="search-overlay"></div><script src="../main.js?v=f449c6d1" type="text/javascript" defer=""></script></body></html>