<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>io</title><meta property="og:title" content="io" /><meta property="og:type" content="website" /><meta name="description" content="Emulates Lua's standard io library." /><meta property="og:description" content="Emulates Lua's standard io library." /><meta property="og:image" content="https://devvie.cc/docs/cc/pack.png" /><meta property="og:site_name" content="CC: Tweaked" /><meta name="illuaminate:index" content="../index.json" /><link rel="stylesheet" href="../main.css?v=5ab962eb" type="text/css" /><!--
SPDX-FileCopyrightText: 2020 The CC: Tweaked Developers

SPDX-License-Identifier: MPL-2.0
-->

<meta name="theme-color" content="#c8d87c"></head><body><nav id="nav"><button id="nav-reveal" type="button">&#9776;</button><h1><a href=".././"><img src="../pack.png" alt="CC: Tweaked" /></a></h1><div class="nav-links"><h2 tabindex="0">Contents</h2><ul><li><a href="#v:stdin" class="sidebar-link">stdin</a></li><li><a href="#v:stdout" class="sidebar-link">stdout</a></li><li><a href="#v:stderr" class="sidebar-link">stderr</a></li><li><a href="#v:close" class="sidebar-link">close</a></li><li><a href="#v:flush" class="sidebar-link">flush</a></li><li><a href="#v:input" class="sidebar-link">input</a></li><li><a href="#v:lines" class="sidebar-link">lines</a></li><li><a href="#v:open" class="sidebar-link">open</a></li><li><a href="#v:output" class="sidebar-link">output</a></li><li><a href="#v:read" class="sidebar-link">read</a></li><li><a href="#v:type" class="sidebar-link">type</a></li><li><a href="#v:write" class="sidebar-link">write</a></li></ul><h2 tabindex="0">Types</h2><ul><li><a href="#ty:Handle" class="sidebar-link">Handle</a></li></ul><h2 tabindex="0">Globals</h2><ul><li><a href="_G.html" class="sidebar-link">_G</a></li><li><a href="colors.html" class="sidebar-link">colors</a></li><li><a href="colours.html" class="sidebar-link">colours</a></li><li><a href="commands.html" class="sidebar-link">commands</a></li><li><a href="disk.html" class="sidebar-link">disk</a></li><li><a href="fs.html" class="sidebar-link">fs</a></li><li><a href="gps.html" class="sidebar-link">gps</a></li><li><a href="help.html" class="sidebar-link">help</a></li><li><a href="http.html" class="sidebar-link">http</a></li><li><strong class="sidebar-link selected">io</strong></li><li><a href="keys.html" class="sidebar-link">keys</a></li><li><a href="multishell.html" class="sidebar-link">multishell</a></li><li><a href="os.html" class="sidebar-link">os</a></li><li><a href="paintutils.html" class="sidebar-link">paintutils</a></li><li><a href="parallel.html" class="sidebar-link">parallel</a></li><li><a href="peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="rednet.html" class="sidebar-link">rednet</a></li><li><a href="settings.html" class="sidebar-link">settings</a></li><li><a href="shell.html" class="sidebar-link">shell</a></li><li><a href="term.html" class="sidebar-link">term</a></li><li><a href="textutils.html" class="sidebar-link">textutils</a></li><li><a href="turtle.html" class="sidebar-link">turtle</a></li><li><a href="vector.html" class="sidebar-link">vector</a></li><li><a href="window.html" class="sidebar-link">window</a></li></ul><h2 class="collapsed" tabindex="0">Modules</h2><ul><li><a href="../library/cc.audio.dfpwm.html" class="sidebar-link">cc.audio.dfpwm</a></li><li><a href="../library/cc.completion.html" class="sidebar-link">cc.completion</a></li><li><a href="../library/cc.expect.html" class="sidebar-link">cc.expect</a></li><li><a href="../library/cc.image.nft.html" class="sidebar-link">cc.image.nft</a></li><li><a href="../library/cc.pretty.html" class="sidebar-link">cc.pretty</a></li><li><a href="../library/cc.require.html" class="sidebar-link">cc.require</a></li><li><a href="../library/cc.shell.completion.html" class="sidebar-link">cc.shell.completion</a></li><li><a href="../library/cc.strings.html" class="sidebar-link">cc.strings</a></li></ul><h2 class="collapsed" tabindex="0">Events</h2><ul><li><a href="../event/alarm.html" class="sidebar-link">alarm</a></li><li><a href="../event/char.html" class="sidebar-link">char</a></li><li><a href="../event/computer_command.html" class="sidebar-link">computer_command</a></li><li><a href="../event/disk.html" class="sidebar-link">disk</a></li><li><a href="../event/disk_eject.html" class="sidebar-link">disk_eject</a></li><li><a href="../event/file_transfer.html" class="sidebar-link">file_transfer</a></li><li><a href="../event/http_check.html" class="sidebar-link">http_check</a></li><li><a href="../event/http_failure.html" class="sidebar-link">http_failure</a></li><li><a href="../event/http_success.html" class="sidebar-link">http_success</a></li><li><a href="../event/key.html" class="sidebar-link">key</a></li><li><a href="../event/key_up.html" class="sidebar-link">key_up</a></li><li><a href="../event/modem_message.html" class="sidebar-link">modem_message</a></li><li><a href="../event/monitor_resize.html" class="sidebar-link">monitor_resize</a></li><li><a href="../event/monitor_touch.html" class="sidebar-link">monitor_touch</a></li><li><a href="../event/mouse_click.html" class="sidebar-link">mouse_click</a></li><li><a href="../event/mouse_drag.html" class="sidebar-link">mouse_drag</a></li><li><a href="../event/mouse_scroll.html" class="sidebar-link">mouse_scroll</a></li><li><a href="../event/mouse_up.html" class="sidebar-link">mouse_up</a></li><li><a href="../event/paste.html" class="sidebar-link">paste</a></li><li><a href="../event/peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="../event/peripheral_detach.html" class="sidebar-link">peripheral_detach</a></li><li><a href="../event/rednet_message.html" class="sidebar-link">rednet_message</a></li><li><a href="../event/redstone.html" class="sidebar-link">redstone</a></li><li><a href="../event/speaker_audio_empty.html" class="sidebar-link">speaker_audio_empty</a></li><li><a href="../event/task_complete.html" class="sidebar-link">task_complete</a></li><li><a href="../event/term_resize.html" class="sidebar-link">term_resize</a></li><li><a href="../event/terminate.html" class="sidebar-link">terminate</a></li><li><a href="../event/timer.html" class="sidebar-link">timer</a></li><li><a href="../event/turtle_inventory.html" class="sidebar-link">turtle_inventory</a></li><li><a href="../event/websocket_closed.html" class="sidebar-link">websocket_closed</a></li><li><a href="../event/websocket_failure.html" class="sidebar-link">websocket_failure</a></li><li><a href="../event/websocket_message.html" class="sidebar-link">websocket_message</a></li><li><a href="../event/websocket_success.html" class="sidebar-link">websocket_success</a></li></ul><h2 class="collapsed" tabindex="0">Guides</h2><ul><li><a href="../guide/gps_setup.html" class="sidebar-link">Setting up GPS</a></li><li><a href="../guide/local_ips.html" class="sidebar-link">Allowing access to local IPs</a></li><li><a href="../guide/speaker_audio.html" class="sidebar-link">Playing audio with speakers</a></li><li><a href="../guide/using_require.html" class="sidebar-link">Reusing code with require</a></li></ul><h2 class="collapsed" tabindex="0">Reference</h2><ul><li><a href="../reference/feature_compat.html" class="sidebar-link">Lua 5.2/5.3 features in CC: Tweaked</a></li></ul></div></nav><div id="main"><div id="search-form" role="form"><input id="search-box" type="text" placeholder="Search..." autocomplete="off" tabindex="0"></input><div id="search-results"></div></div><section id="content"><h1>io</h1><p>Emulates Lua's standard <a href="https://www.lua.org/manual/5.1/manual.html#5.7">io library</a>.</p>
<table class="definition-list"><tr><th class="definition-name"><a href="#v:stdin">stdin</a></th><td>A file handle representing the &quot;standard input&quot;.</td></tr><tr><th class="definition-name"><a href="#v:stdout">stdout</a></th><td>A file handle representing the &quot;standard output&quot;.</td></tr><tr><th class="definition-name"><a href="#v:stderr">stderr</a></th><td>A file handle representing the &quot;standard error&quot; stream.</td></tr><tr><th class="definition-name"><a href="#v:close">close([file])</a></th><td>Closes the provided file handle.</td></tr><tr><th class="definition-name"><a href="#v:flush">flush()</a></th><td>Flushes the current output file.</td></tr><tr><th class="definition-name"><a href="#v:input">input([file])</a></th><td>Get or set the current input file.</td></tr><tr><th class="definition-name"><a href="#v:lines">lines([filename, ...])</a></th><td>Opens the given file name in read mode and returns an iterator that, each time it is called, returns a new line from the file.</td></tr><tr><th class="definition-name"><a href="#v:open">open(filename [, mode])</a></th><td>Open a file with the given mode, either returning a new file handle or <span class="reference reference-unresolved"><code>nil</code></span>, plus an error message.</td></tr><tr><th class="definition-name"><a href="#v:output">output([file])</a></th><td>Get or set the current output file.</td></tr><tr><th class="definition-name"><a href="#v:read">read(...)</a></th><td>Read from the currently opened input file.</td></tr><tr><th class="definition-name"><a href="#v:type">type(obj)</a></th><td>Checks whether <code>handle</code> is a given file handle, and determine if it is open or not.</td></tr><tr><th class="definition-name"><a href="#v:write">write(...)</a></th><td>Write to the currently opened output file.</td></tr></table><dl class="definition"><dt><a name="v:stdin" href="#v:stdin"></a><span class="definition-name">stdin</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L243" class="source-link">Source</a></dt><dd><p>A file handle representing the &quot;standard input&quot;. Reading from this
file will prompt the user for input.</p>
</dd><dt><a name="v:stdout" href="#v:stdout"></a><span class="definition-name">stdout</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L245" class="source-link">Source</a></dt><dd><p>A file handle representing the &quot;standard output&quot;. Writing to this
file will display the written text to the screen.</p>
</dd><dt><a name="v:stderr" href="#v:stderr"></a><span class="definition-name">stderr</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L247" class="source-link">Source</a></dt><dd><p>A file handle representing the &quot;standard error&quot; stream.</p>
<p>One may use this to display error messages, writing to it will display
them on the terminal.</p>
</dd><dt><a name="v:close" href="#v:close"></a><span class="definition-name">close([file])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L284" class="source-link">Source</a></dt><dd><p>Closes the provided file handle.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">file<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="io.html#ty:Handle" class="reference"><code>Handle</code></a></span> The file handle to close, defaults to the
current output file.</li></ol><h3>See also</h3><ul><li><strong><a href="io.html#ty:Handle:close" class="reference"><code>Handle:close</code></a></strong> </li><li><strong><a href="io.html#v:output" class="reference"><code>io.output</code></a></strong> </li></ul><h3>Changes</h3><ul><li><strong>New in version 1.55</strong> </li></ul></dd><dt><a name="v:flush" href="#v:flush"></a><span class="definition-name">flush()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L298" class="source-link">Source</a></dt><dd><p>Flushes the current output file.</p>
<h3>See also</h3><ul><li><strong><a href="io.html#ty:Handle:flush" class="reference"><code>Handle:flush</code></a></strong> </li><li><strong><a href="io.html#v:output" class="reference"><code>io.output</code></a></strong> </li></ul><h3>Changes</h3><ul><li><strong>New in version 1.55</strong> </li></ul></dd><dt><a name="v:input" href="#v:input"></a><span class="definition-name">input([file])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L308" class="source-link">Source</a></dt><dd><p>Get or set the current input file.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">file<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="io.html#ty:Handle" class="reference"><code>Handle</code></a> | <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The new input file, either as a file path or pre-existing handle.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="io.html#ty:Handle" class="reference"><code>Handle</code></a></span> The current input file.</li></ol><h3>Throws</h3><ul><li><p>If the provided filename cannot be opened for reading.</p>
</li></ul><h3>Changes</h3><ul><li><strong>New in version 1.55</strong> </li></ul></dd><dt><a name="v:lines" href="#v:lines"></a><span class="definition-name">lines([filename, ...])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L349" class="source-link">Source</a></dt><dd><p>Opens the given file name in read mode and returns an iterator that,
each time it is called, returns a new line from the file.</p>
<p>This can be used in a for loop to iterate over all lines of a file</p>
<p>Once the end of the file has been reached, <span class="reference reference-unresolved"><code>nil</code></span> will be returned. The file is
automatically closed.</p>
<p>If no file name is given, the <a href="io.html#v:input" class="reference">current input</a> will be used instead.
In this case, the handle is not used.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">filename<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The name of the file to extract lines from</li><li><span class="parameter">...</span>  The argument to pass to <a href="io.html#ty:Handle:read" class="reference"><code>Handle:read</code></a> for each line.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">function():<a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a> | nil</span> The line iterator.</li></ol><h3>Throws</h3><ul><li><p>If the file cannot be opened for reading</p>
</li></ul><h3>Usage</h3><ul><li><p>Iterate over every line in a file and print it out.</p>
<pre class="highlight" data-lua-kind="stmt"><span class="keyword">for</span> <span class="ident">line</span> <span class="keyword">in</span> <a title="Opens the given file name in read mode and returns an iterator that, each time it is called, returns a new line from the file." href="io.html#v:lines"><span class="ident">io</span><span class="symbol">.</span><span class="symbol">lines</span></a><span class="symbol">(</span><span class="string">"/rom/help/intro.txt"</span><span class="symbol">)</span> <span class="keyword">do</span>
  <span class="ident">print</span><span class="symbol">(</span><span class="ident">line</span><span class="symbol">)</span>
<span class="keyword">end</span><span class="symbol"></span></pre></li></ul><h3>See also</h3><ul><li><strong><a href="io.html#ty:Handle:lines" class="reference"><code>Handle:lines</code></a></strong> </li><li><strong><a href="io.html#v:input" class="reference"><code>io.input</code></a></strong> </li></ul><h3>Changes</h3><ul><li><strong>New in version 1.55</strong> </li></ul></dd><dt><a name="v:open" href="#v:open"></a><span class="definition-name">open(filename [, mode])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L380" class="source-link">Source</a></dt><dd><p>Open a file with the given mode, either returning a new file handle
or <span class="reference reference-unresolved"><code>nil</code></span>, plus an error message.</p>
<p>The <code>mode</code> string can be any of the following:</p>
<ul>
<li><strong>&quot;r&quot;</strong>: Read mode</li>
<li><strong>&quot;w&quot;</strong>: Write mode</li>
<li><strong>&quot;a&quot;</strong>: Append mode</li>
</ul>
<p>The mode may also have a <code>b</code> at the end, which opens the file in &quot;binary
mode&quot;. This allows you to read binary files, as well as seek within a file.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">filename</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The name of the file to open.</li><li><span class="parameter">mode<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The mode to open the file with. This defaults to <code>rb</code>.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="io.html#ty:Handle" class="reference"><code>Handle</code></a></span> The opened file.</li></ol><h4>Or</h4><ol class="return-list"><li><span class="type">nil</span> In case of an error.</li><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The reason the file could not be opened.</li></ol></dd><dt><a name="v:output" href="#v:output"></a><span class="definition-name">output([file])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L397" class="source-link">Source</a></dt><dd><p>Get or set the current output file.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">file<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="io.html#ty:Handle" class="reference"><code>Handle</code></a> | <a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The new output file, either as a file path or pre-existing handle.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="io.html#ty:Handle" class="reference"><code>Handle</code></a></span> The current output file.</li></ol><h3>Throws</h3><ul><li><p>If the provided filename cannot be opened for writing.</p>
</li></ul><h3>Changes</h3><ul><li><strong>New in version 1.55</strong> </li></ul></dd><dt><a name="v:read" href="#v:read"></a><span class="definition-name">read(...)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L418" class="source-link">Source</a></dt><dd><p>Read from the currently opened input file.</p>
<p>This is equivalent to <code>io.input():read(...)</code>. See <a href="io.html#ty:Handle:read" class="reference">the documentation</a>
there for full details.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">...</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The formats to read, defaulting to a whole line.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a> | nil...</span> The data read, or <span class="reference reference-unresolved"><code>nil</code></span> if nothing can be read.</li></ol></dd><dt><a name="v:type" href="#v:type"></a><span class="definition-name">type(obj)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L428" class="source-link">Source</a></dt><dd><p>Checks whether <code>handle</code> is a given file handle, and determine if it is open
or not.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">obj</span>  The value to check</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a> | nil</span> <code>&quot;file&quot;</code> if this is an open file, <code>&quot;closed file&quot;</code> if it
is a closed file handle, or <code>nil</code> if not a file handle.</li></ol></dd><dt><a name="v:write" href="#v:write"></a><span class="definition-name">write(...)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L446" class="source-link">Source</a></dt><dd><p>Write to the currently opened output file.</p>
<p>This is equivalent to <code>io.output():write(...)</code>. See <a href="io.html#ty:Handle:write" class="reference">the documentation</a>
there for full details.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">...</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The strings to write</li></ol><h3>Changes</h3><ul><li><strong>Changed in version 1.81.0:</strong> Multiple arguments are now allowed.</li></ul></dd></dl><h3>Types</h3><h3><a name="ty:Handle" href="#ty:Handle"></a> <span>Handle</span></h3><p>A file handle which can be read or written to.</p>
<dl class="definition"><dt><a name="ty:Handle:close" href="#ty:Handle:close"></a><span class="definition-name">Handle.close()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L42" class="source-link">Source</a></dt><dd><p>Close this file handle, freeing any resources it uses.</p>
<h3>Returns</h3><ol class="return-list"><li><span class="type">true</span> If this handle was successfully closed.</li></ol><h4>Or</h4><ol class="return-list"><li><span class="type">nil</span> If this file handle could not be closed.</li><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The reason it could not be closed.</li></ol><h3>Throws</h3><ul><li><p>If this handle was already closed.</p>
</li></ul></dd><dt><a name="ty:Handle:flush" href="#ty:Handle:flush"></a><span class="definition-name">Handle.flush()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L61" class="source-link">Source</a></dt><dd><p>Flush any buffered output, forcing it to be written to the file</p>
<h3>Throws</h3><ul><li><p>If the handle has been closed</p>
</li></ul></dd><dt><a name="ty:Handle:lines" href="#ty:Handle:lines"></a><span class="definition-name">Handle.lines(...)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L96" class="source-link">Source</a></dt><dd><p>Returns an iterator that, each time it is called, returns a new
line from the file.</p>
<p>This can be used in a for loop to iterate over all lines of a file</p>
<p>Once the end of the file has been reached, <span class="reference reference-unresolved"><code>nil</code></span> will be returned. The file is
<em>not</em> automatically closed.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">...</span>  The argument to pass to <a href="io.html#ty:Handle:read" class="reference"><code>Handle:read</code></a> for each line.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type">function():<a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a> | nil</span> The line iterator.</li></ol><h3>Throws</h3><ul><li><p>If the file cannot be opened for reading</p>
</li></ul><h3>Usage</h3><ul><li><p>Iterate over every line in a file and print it out.</p>
<pre class="highlight" data-lua-kind="stmt"><span class="keyword">local</span> <span class="ident">file</span> <span class="symbol">=</span> <a title="Open a file with the given mode, either returning a new file handle or nil, plus an error message." href="io.html#v:open"><span class="ident">io</span><span class="symbol">.</span><span class="symbol">open</span></a><span class="symbol">(</span><span class="string">"/rom/help/intro.txt"</span><span class="symbol">)</span>
<span class="keyword">for</span> <span class="ident">line</span> <span class="keyword">in</span> <span class="ident">file</span><span class="symbol">:</span><span class="symbol">lines</span><span class="symbol">(</span><span class="symbol">)</span> <span class="keyword">do</span>
  <span class="ident">print</span><span class="symbol">(</span><span class="ident">line</span><span class="symbol">)</span>
<span class="keyword">end</span>
<span class="ident">file</span><span class="symbol">:</span><span class="symbol">close</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol"></span></pre></li></ul><h3>See also</h3><ul><li><strong><a href="io.html#v:lines" class="reference"><code>io.lines</code></a></strong> </li></ul><h3>Changes</h3><ul><li><strong>New in version 1.3</strong> </li></ul></dd><dt><a name="ty:Handle:read" href="#ty:Handle:read"></a><span class="definition-name">Handle.read(...)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L129" class="source-link">Source</a></dt><dd><p>Reads data from the file, using the specified formats. For each
format provided, the function returns either the data read, or <code>nil</code> if
no data could be read.</p>
<p>The following formats are available:</p>
<ul>
<li><code>l</code>: Returns the next line (without a newline on the end).</li>
<li><code>L</code>: Returns the next line (with a newline on the end).</li>
<li><code>a</code>: Returns the entire rest of the file.</li>
<li><del><code>n</code>: Returns a number</del> (not implemented in CC).</li>
</ul>
<p>These formats can be preceded by a <code>*</code> to make it compatible with Lua 5.1.</p>
<p>If no format is provided, <code>l</code> is assumed.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">...</span>  The formats to use.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a> | nil...</span> The data read from the file.</li></ol></dd><dt><a name="ty:Handle:seek" href="#ty:Handle:seek"></a><span class="definition-name">Handle.seek([whence [, offset]])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L189" class="source-link">Source</a></dt><dd><p>Seeks the file cursor to the specified position, and returns the
new position.</p>
<p><code>whence</code> controls where the seek operation starts, and is a string that
may be one of these three values:</p>
<ul>
<li><code>set</code>: base position is 0 (beginning of the file)</li>
<li><code>cur</code>: base is current position</li>
<li><code>end</code>: base is end of file</li>
</ul>
<p>The default value of <code>whence</code> is <code>cur</code>, and the default value of <code>offset</code>
is 0. This means that <code>file:seek()</code> without arguments returns the current
position without moving.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">whence<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The place to set the cursor from.</li><li><span class="parameter">offset<span class="optional" title="This argument is optional">?</span></span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The offset from the start to move to.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The new location of the file cursor.</li></ol></dd><dt><a name="ty:Handle:setvbuf" href="#ty:Handle:setvbuf"></a><span class="definition-name definition-deprecated">Handle.setvbuf(mode [, size])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L211" class="source-link">Source</a></dt><dd><div class="admonition admonition-caution"><h5 class="admonition-heading"><span aria-hidden="true">🛈</span> Deprecated</h5><p>This has no effect in CC.</p>
</div><p>Sets the buffering mode for an output file.</p>
<p>This has no effect under ComputerCraft, and exists with compatility
with base Lua.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">mode</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The buffering mode.</li><li><span class="parameter">size<span class="optional" title="This argument is optional">?</span></span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The size of the buffer.</li></ol><h3>See also</h3><ul><li><strong><a href="https://www.lua.org/manual/5.1/manual.html#pdf-file:setvbuf" class="reference"><code>file:setvbuf</code></a></strong> Lua's documentation for <code>setvbuf</code>.</li></ul></dd><dt><a name="ty:Handle:write" href="#ty:Handle:write"></a><span class="definition-name">Handle.write(...)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/projects/core/src/main/resources/data/computercraft/lua/rom/apis/io.lua#L220" class="source-link">Source</a></dt><dd><p>Write one or more values to the file</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">...</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a> | <span class="reference reference-unresolved"><code>number</code></span></span> The values to write.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="io.html#ty:Handle" class="reference"><code>Handle</code></a></span> The current file, allowing chained calls.</li></ol><h4>Or</h4><ol class="return-list"><li><span class="type">nil</span> If the file could not be written to.</li><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The error message which occurred while writing.</li></ol><h3>Changes</h3><ul><li><strong>Changed in version 1.81.0:</strong> Multiple arguments are now allowed.</li></ul></dd></dl></section><footer>Last updated on 2023-10-11</footer></div><div id="search-overlay"></div><script src="../main.js?v=f449c6d1" type="text/javascript" defer=""></script></body></html>