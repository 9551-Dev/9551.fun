<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>os</title><meta property="og:title" content="os" /><meta property="og:type" content="website" /><meta property="og:image" content="https://devvie.cc/docs/cc/pack.png" /><meta property="og:site_name" content="CC: Tweaked" /><meta name="illuaminate:index" content="../index.json" /><link rel="stylesheet" href="../main.css?v=5ab962eb" type="text/css" /><!--
SPDX-FileCopyrightText: 2020 The CC: Tweaked Developers

SPDX-License-Identifier: MPL-2.0
-->

<meta name="theme-color" content="#c8d87c"></head><body><nav id="nav"><button id="nav-reveal" type="button">&#9776;</button><h1><a href=".././"><img src="../pack.png" alt="CC: Tweaked" /></a></h1><div class="nav-links"><h2 tabindex="0">Contents</h2><ul><li><a href="#v:loadAPI" class="sidebar-link">loadAPI</a></li><li><a href="#v:unloadAPI" class="sidebar-link">unloadAPI</a></li><li><a href="#v:pullEvent" class="sidebar-link">pullEvent</a></li><li><a href="#v:pullEventRaw" class="sidebar-link">pullEventRaw</a></li><li><a href="#v:sleep" class="sidebar-link">sleep</a></li><li><a href="#v:version" class="sidebar-link">version</a></li><li><a href="#v:run" class="sidebar-link">run</a></li></ul><h2 tabindex="0">Globals</h2><ul><li><a href="_G.html" class="sidebar-link">_G</a></li><li><a href="colors.html" class="sidebar-link">colors</a></li><li><a href="colours.html" class="sidebar-link">colours</a></li><li><a href="commands.html" class="sidebar-link">commands</a></li><li><a href="disk.html" class="sidebar-link">disk</a></li><li><a href="fs.html" class="sidebar-link">fs</a></li><li><a href="gps.html" class="sidebar-link">gps</a></li><li><a href="help.html" class="sidebar-link">help</a></li><li><a href="http.html" class="sidebar-link">http</a></li><li><a href="io.html" class="sidebar-link">io</a></li><li><a href="keys.html" class="sidebar-link">keys</a></li><li><a href="multishell.html" class="sidebar-link">multishell</a></li><li><strong class="sidebar-link selected">os</strong></li><li><a href="paintutils.html" class="sidebar-link">paintutils</a></li><li><a href="parallel.html" class="sidebar-link">parallel</a></li><li><a href="peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="rednet.html" class="sidebar-link">rednet</a></li><li><a href="settings.html" class="sidebar-link">settings</a></li><li><a href="shell.html" class="sidebar-link">shell</a></li><li><a href="term.html" class="sidebar-link">term</a></li><li><a href="textutils.html" class="sidebar-link">textutils</a></li><li><a href="turtle.html" class="sidebar-link">turtle</a></li><li><a href="vector.html" class="sidebar-link">vector</a></li><li><a href="window.html" class="sidebar-link">window</a></li></ul><h2 class="collapsed" tabindex="0">Modules</h2><ul><li><a href="../library/cc.audio.dfpwm.html" class="sidebar-link">cc.audio.dfpwm</a></li><li><a href="../library/cc.completion.html" class="sidebar-link">cc.completion</a></li><li><a href="../library/cc.expect.html" class="sidebar-link">cc.expect</a></li><li><a href="../library/cc.image.nft.html" class="sidebar-link">cc.image.nft</a></li><li><a href="../library/cc.pretty.html" class="sidebar-link">cc.pretty</a></li><li><a href="../library/cc.require.html" class="sidebar-link">cc.require</a></li><li><a href="../library/cc.shell.completion.html" class="sidebar-link">cc.shell.completion</a></li><li><a href="../library/cc.strings.html" class="sidebar-link">cc.strings</a></li></ul><h2 class="collapsed" tabindex="0">Events</h2><ul><li><a href="../event/alarm.html" class="sidebar-link">alarm</a></li><li><a href="../event/char.html" class="sidebar-link">char</a></li><li><a href="../event/computer_command.html" class="sidebar-link">computer_command</a></li><li><a href="../event/disk.html" class="sidebar-link">disk</a></li><li><a href="../event/disk_eject.html" class="sidebar-link">disk_eject</a></li><li><a href="../event/file_transfer.html" class="sidebar-link">file_transfer</a></li><li><a href="../event/http_check.html" class="sidebar-link">http_check</a></li><li><a href="../event/http_failure.html" class="sidebar-link">http_failure</a></li><li><a href="../event/http_success.html" class="sidebar-link">http_success</a></li><li><a href="../event/key.html" class="sidebar-link">key</a></li><li><a href="../event/key_up.html" class="sidebar-link">key_up</a></li><li><a href="../event/modem_message.html" class="sidebar-link">modem_message</a></li><li><a href="../event/monitor_resize.html" class="sidebar-link">monitor_resize</a></li><li><a href="../event/monitor_touch.html" class="sidebar-link">monitor_touch</a></li><li><a href="../event/mouse_click.html" class="sidebar-link">mouse_click</a></li><li><a href="../event/mouse_drag.html" class="sidebar-link">mouse_drag</a></li><li><a href="../event/mouse_scroll.html" class="sidebar-link">mouse_scroll</a></li><li><a href="../event/mouse_up.html" class="sidebar-link">mouse_up</a></li><li><a href="../event/paste.html" class="sidebar-link">paste</a></li><li><a href="../event/peripheral.html" class="sidebar-link">peripheral</a></li><li><a href="../event/peripheral_detach.html" class="sidebar-link">peripheral_detach</a></li><li><a href="../event/rednet_message.html" class="sidebar-link">rednet_message</a></li><li><a href="../event/redstone.html" class="sidebar-link">redstone</a></li><li><a href="../event/speaker_audio_empty.html" class="sidebar-link">speaker_audio_empty</a></li><li><a href="../event/task_complete.html" class="sidebar-link">task_complete</a></li><li><a href="../event/term_resize.html" class="sidebar-link">term_resize</a></li><li><a href="../event/terminate.html" class="sidebar-link">terminate</a></li><li><a href="../event/timer.html" class="sidebar-link">timer</a></li><li><a href="../event/turtle_inventory.html" class="sidebar-link">turtle_inventory</a></li><li><a href="../event/websocket_closed.html" class="sidebar-link">websocket_closed</a></li><li><a href="../event/websocket_failure.html" class="sidebar-link">websocket_failure</a></li><li><a href="../event/websocket_message.html" class="sidebar-link">websocket_message</a></li><li><a href="../event/websocket_success.html" class="sidebar-link">websocket_success</a></li></ul><h2 class="collapsed" tabindex="0">Guides</h2><ul><li><a href="../guide/gps_setup.html" class="sidebar-link">Setting up GPS</a></li><li><a href="../guide/local_ips.html" class="sidebar-link">Allowing access to local IPs</a></li><li><a href="../guide/speaker_audio.html" class="sidebar-link">Playing audio with speakers</a></li><li><a href="../guide/using_require.html" class="sidebar-link">Reusing code with require</a></li></ul><h2 class="collapsed" tabindex="0">Reference</h2><ul><li><a href="../reference/feature_compat.html" class="sidebar-link">Lua 5.2/5.3 features in CC: Tweaked</a></li></ul></div></nav><div id="main"><div id="search-form" role="form"><input id="search-box" type="text" placeholder="Search..." autocomplete="off" tabindex="0"></input><div id="search-results"></div></div><section id="content"><h1>os</h1><table class="definition-list"><tr class="definition-deprecated"><th class="definition-name" title="This member is deprecated."><a href="#v:loadAPI">loadAPI(path)</a></th><td>Loads the given API into the global environment.</td></tr><tr class="definition-deprecated"><th class="definition-name" title="This member is deprecated."><a href="#v:unloadAPI">unloadAPI(name)</a></th><td>Unloads an API which was loaded by <a href="os.html#v:loadAPI" class="reference"><code>os.loadAPI</code></a>.</td></tr><tr><th class="definition-name"><a href="#v:pullEvent">pullEvent([filter])</a></th><td>Pause execution of the current thread and waits for any events matching <code>filter</code>.</td></tr><tr><th class="definition-name"><a href="#v:pullEventRaw">pullEventRaw([filter])</a></th><td>Pause execution of the current thread and waits for events, including the <code>terminate</code> event.</td></tr><tr><th class="definition-name"><a href="#v:sleep">sleep(time)</a></th><td>Pauses execution for the specified number of seconds, alias of <a href="_G.html#v:sleep" class="reference"><code>_G.sleep</code></a>.</td></tr><tr><th class="definition-name"><a href="#v:version">version()</a></th><td>Get the current CraftOS version (for example, <code>CraftOS 1.8</code>).</td></tr><tr><th class="definition-name"><a href="#v:run">run(env, path, ...)</a></th><td>Run the program at the given path with the specified environment and arguments.</td></tr></table><dl class="definition"><dt><a name="v:loadAPI" href="#v:loadAPI"></a><span class="definition-name definition-deprecated">loadAPI(path)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/doc/stub/os.lua#L20" class="source-link">Source</a></dt><dd><div class="admonition admonition-caution"><h5 class="admonition-heading"><span aria-hidden="true">ðŸ›ˆ</span> Deprecated</h5><p>When possible it's best to avoid using this function. It pollutes
the global table and can mask errors.</p>
<p><a href="https://www.lua.org/manual/5.1/manual.html#pdf-require" class="reference"><code>require</code></a> should be used to load libraries instead.</p>
</div><p>Loads the given API into the global environment.</p>
<p>This function loads and executes the file at the given path, and all global
variables and functions exported by it will by available through the use of
<code>myAPI.&lt;function name&gt;</code>, where <code>myAPI</code> is the base name of the API file.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">path</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The path of the API to load.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>boolean</code></span></span> Whether or not the API was successfully loaded.</li></ol><h3>Changes</h3><ul><li><strong>New in version 1.2</strong> </li></ul></dd><dt><a name="v:unloadAPI" href="#v:unloadAPI"></a><span class="definition-name definition-deprecated">unloadAPI(name)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/doc/stub/os.lua#L29" class="source-link">Source</a></dt><dd><div class="admonition admonition-caution"><h5 class="admonition-heading"><span aria-hidden="true">ðŸ›ˆ</span> Deprecated</h5><p>See <a href="os.html#v:loadAPI" class="reference"><code>os.loadAPI</code></a> for why.</p>
</div><p>Unloads an API which was loaded by <a href="os.html#v:loadAPI" class="reference"><code>os.loadAPI</code></a>.</p>
<p>This effectively removes the specified table from <code>_G</code>.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">name</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The name of the API to unload.</li></ol><h3>Changes</h3><ul><li><strong>New in version 1.2</strong> </li></ul></dd><dt><a name="v:pullEvent" href="#v:pullEvent"></a><span class="definition-name">pullEvent([filter])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/doc/stub/os.lua#L67" class="source-link">Source</a></dt><dd><p>Pause execution of the current thread and waits for any events matching
<code>filter</code>.</p>
<p>This function <a href="https://www.lua.org/manual/5.1/manual.html#pdf-coroutine.yield" class="reference">yields</a> the current process and waits for it
to be resumed with a vararg list where the first element matches <code>filter</code>.
If no <code>filter</code> is supplied, this will match all events.</p>
<p>Unlike <a href="os.html#v:pullEventRaw" class="reference"><code>os.pullEventRaw</code></a>, it will stop the application upon a &quot;terminate&quot;
event, printing the error &quot;Terminated&quot;.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">filter<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> Event to filter for.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> event The name of the event that fired.</li><li><span class="type"><span class="reference reference-unresolved"><code>any</code></span></span> param... Optional additional parameters of the event.</li></ol><h3>Usage</h3><ul><li><p>Listen for <code>mouse_click</code> events.</p>
<pre class="highlight" data-lua-kind="stmt"><span class="keyword">while</span> <span class="literal-kw">true</span> <span class="keyword">do</span>
    <span class="keyword">local</span> <span class="ident">event</span><span class="symbol">,</span> <span class="ident">button</span><span class="symbol">,</span> <span class="ident">x</span><span class="symbol">,</span> <span class="ident">y</span> <span class="symbol">=</span> <a title="Pause execution of the current thread and waits for any events matching filter." href="os.html#v:pullEvent"><span class="ident">os</span><span class="symbol">.</span><span class="symbol">pullEvent</span></a><span class="symbol">(</span><span class="string">"mouse_click"</span><span class="symbol">)</span>
    <span class="ident">print</span><span class="symbol">(</span><span class="string">"Button"</span><span class="symbol">,</span> <span class="ident">button</span><span class="symbol">,</span> <span class="string">"was clicked at"</span><span class="symbol">,</span> <span class="ident">x</span><span class="symbol">,</span> <span class="string">","</span><span class="symbol">,</span> <span class="ident">y</span><span class="symbol">)</span>
<span class="keyword">end</span><span class="symbol"></span></pre></li><li><p>Listen for multiple events.</p>
<pre class="highlight" data-lua-kind="stmt"><span class="keyword">while</span> <span class="literal-kw">true</span> <span class="keyword">do</span>
    <span class="keyword">local</span> <span class="ident">eventData</span> <span class="symbol">=</span> <span class="symbol">{</span><a title="Pause execution of the current thread and waits for any events matching filter." href="os.html#v:pullEvent"><span class="ident">os</span><span class="symbol">.</span><span class="symbol">pullEvent</span></a><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">}</span>
    <span class="keyword">local</span> <span class="ident">event</span> <span class="symbol">=</span> <span class="ident">eventData</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">]</span>

    <span class="keyword">if</span> <span class="ident">event</span> <span class="symbol">==</span> <span class="string">"mouse_click"</span> <span class="keyword">then</span>
        <span class="ident">print</span><span class="symbol">(</span><span class="string">"Button"</span><span class="symbol">,</span> <span class="ident">eventData</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">]</span><span class="symbol">,</span> <span class="string">"was clicked at"</span><span class="symbol">,</span> <span class="ident">eventData</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">]</span><span class="symbol">,</span> <span class="string">","</span><span class="symbol">,</span> <span class="ident">eventData</span><span class="symbol">[</span><span class="number">4</span><span class="symbol">]</span><span class="symbol">)</span>
    <span class="keyword">elseif</span> <span class="ident">event</span> <span class="symbol">==</span> <span class="string">"key"</span> <span class="keyword">then</span>
        <span class="ident">print</span><span class="symbol">(</span><span class="string">"Key code"</span><span class="symbol">,</span> <span class="ident">eventData</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">]</span><span class="symbol">,</span> <span class="string">"was pressed"</span><span class="symbol">)</span>
    <span class="keyword">end</span>
<span class="keyword">end</span><span class="symbol"></span></pre></li></ul><h3>See also</h3><ul><li><strong><a href="os.html#v:pullEventRaw" class="reference"><code>os.pullEventRaw</code></a></strong> To pull the terminate event.</li></ul><h3>Changes</h3><ul><li><strong>Changed in version 1.3:</strong> Added filter argument.</li></ul></dd><dt><a name="v:pullEventRaw" href="#v:pullEventRaw"></a><span class="definition-name">pullEventRaw([filter])</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/doc/stub/os.lua#L90" class="source-link">Source</a></dt><dd><p>Pause execution of the current thread and waits for events, including the
<code>terminate</code> event.</p>
<p>This behaves almost the same as <a href="os.html#v:pullEvent" class="reference"><code>os.pullEvent</code></a>, except it allows you to handle
the <code>terminate</code> event yourself - the program will not stop execution when
<kbd>Ctrl+T</kbd> is pressed.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">filter<span class="optional" title="This argument is optional">?</span></span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> Event to filter for.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> event The name of the event that fired.</li><li><span class="type"><span class="reference reference-unresolved"><code>any</code></span></span> param... Optional additional parameters of the event.</li></ol><h3>Usage</h3><ul><li><p>Listen for <code>terminate</code> events.</p>
<pre class="highlight" data-lua-kind="stmt"><span class="keyword">while</span> <span class="literal-kw">true</span> <span class="keyword">do</span>
    <span class="keyword">local</span> <span class="ident">event</span> <span class="symbol">=</span> <a title="Pause execution of the current thread and waits for events, including the terminate event." href="os.html#v:pullEventRaw"><span class="ident">os</span><span class="symbol">.</span><span class="symbol">pullEventRaw</span></a><span class="symbol">(</span><span class="symbol">)</span>
    <span class="keyword">if</span> <span class="ident">event</span> <span class="symbol">==</span> <span class="string">"terminate"</span> <span class="keyword">then</span>
        <span class="ident">print</span><span class="symbol">(</span><span class="string">"Caught terminate event!"</span><span class="symbol">)</span>
    <span class="keyword">end</span>
<span class="keyword">end</span><span class="symbol"></span></pre></li></ul><h3>See also</h3><ul><li><strong><a href="os.html#v:pullEvent" class="reference"><code>os.pullEvent</code></a></strong> To pull events normally.</li></ul></dd><dt><a name="v:sleep" href="#v:sleep"></a><span class="definition-name">sleep(time)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/doc/stub/os.lua#L96" class="source-link">Source</a></dt><dd><p>Pauses execution for the specified number of seconds, alias of <a href="_G.html#v:sleep" class="reference"><code>_G.sleep</code></a>.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">time</span> <span class="type"><span class="reference reference-unresolved"><code>number</code></span></span> The number of seconds to sleep for, rounded up to the
nearest multiple of 0.05.</li></ol></dd><dt><a name="v:version" href="#v:version"></a><span class="definition-name">version()</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/doc/stub/os.lua#L105" class="source-link">Source</a></dt><dd><p>Get the current CraftOS version (for example, <code>CraftOS 1.8</code>).</p>
<p>This is defined by <code>bios.lua</code>. For the current version of CC:Tweaked, this
should return <code>CraftOS 1.8</code>.</p>
<h3>Returns</h3><ol class="return-list"><li><span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The current CraftOS version.</li></ol><h3>Usage</h3><ul><li><pre class="highlight" data-lua-kind="expr"><a title="Get the current CraftOS version (for example, CraftOS 1.8)." href="os.html#v:version"><span class="ident">os</span><span class="symbol">.</span><span class="symbol">version</span></a><span class="symbol">(</span><span class="symbol">)</span><span class="symbol"></span></pre></li></ul></dd><dt><a name="v:run" href="#v:run"></a><span class="definition-name">run(env, path, ...)</span><a href="https://github.com/cc-tweaked/CC-Tweaked/blob/cdeb72514acfbc1fb67cceddc0ce26738f52c5b7/doc/stub/os.lua#L130" class="source-link">Source</a></dt><dd><p>Run the program at the given path with the specified environment and
arguments.</p>
<p>This function does not resolve program names like the shell does. This means
that, for example, <code>os.run(&quot;edit&quot;)</code> will not work. As well as this, it does not
provide access to the <a href="shell.html" class="reference"><code>shell</code></a> API in the environment. For this behaviour, use
<a href="shell.html#v:run" class="reference"><code>shell.run</code></a> instead.</p>
<p>If the program cannot be found, or failed to run, it will print the error and
return <code>false</code>. If you want to handle this more gracefully, use an alternative
such as <a href="https://www.lua.org/manual/5.1/manual.html#pdf-loadfile" class="reference"><code>loadfile</code></a>.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">env</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.5" class="reference"><code>table</code></a></span> The environment to run the program with.</li><li><span class="parameter">path</span> <span class="type"><a href="https://www.lua.org/manual/5.1/manual.html#5.4" class="reference"><code>string</code></a></span> The exact path of the program to run.</li><li><span class="parameter">...</span>  The arguments to pass to the program.</li></ol><h3>Returns</h3><ol class="return-list"><li><span class="type"><span class="reference reference-unresolved"><code>boolean</code></span></span> Whether or not the program ran successfully.</li></ol><h3>Usage</h3><ul><li><p>Run the default shell from within your program:</p>
<pre class="highlight" data-lua-kind="expr"><a title="Run the program at the given path with the specified environment and arguments." href="os.html#v:run"><span class="ident">os</span><span class="symbol">.</span><span class="symbol">run</span></a><span class="symbol">(</span><span class="symbol">{</span><span class="symbol">}</span><span class="symbol">,</span> <span class="string">"/rom/programs/shell.lua"</span><span class="symbol">)</span><span class="symbol"></span></pre></li></ul><h3>See also</h3><ul><li><strong><a href="shell.html#v:run" class="reference"><code>shell.run</code></a></strong> </li><li><strong><a href="https://www.lua.org/manual/5.1/manual.html#pdf-loadfile" class="reference"><code>loadfile</code></a></strong> </li></ul></dd></dl></section><footer>Last updated on 2023-10-11</footer></div><div id="search-overlay"></div><script src="../main.js?v=f449c6d1" type="text/javascript" defer=""></script></body></html>